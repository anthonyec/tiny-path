function returnImageSplit(t){for(var n=[],r=[],a=t.length-1;a>=0;a--)"string"==typeof t[a]&&n.push(a);for(var e=n.length-1;e>=0;e--)r.push(t.slice(n[e],n[e-1]));return r}function callDrawFunctions(t){for(var n=t.length-1;n>=0;n--)for(var r in drawFunctions)r==t[n][0]&&(argArray=t[n].slice(1,t.length[n]),func=drawFunctions[r],window[func](argArray))}function drawPath(t){var n,r,a=!0;ctx.beginPath();for(var e=t.length-1;e>=0;e--)a?r=t[e]:n=t[e],a||(e>t.length-3&&e<t.length-1?(ctx.moveTo(n,r),console.log("Move to: "+n+":"+r)):ctx.lineTo(n,r)),a=!a;ctx.stroke()}function drawSquare(t){console.log("time to draw a square "+t)}var image=["p",100,250,250,100,200,300,150,250,200,220,"p",280,250,380,400,400,300,250,250,400,220],drawFunctions={p:"drawPath",s:"drawSquare"},ctx=document.getElementById("tiny-path-canvas").getContext("2d");callDrawFunctions(returnImageSplit(image));