var TinyPath=function(t,i){this.canvas=t,this.arr=i,this.prefixes=":$",this.drawFunctions={},this.initialise=function(){var t=Object.getPrototypeOf(this);for(var i in t)this[i].init&&this[i].init(this)},this.draw=function(){this.renderScene(this.returnImageSplit())},this.initialise(),console.log(this.drawFunctions)};TinyPath.prototype.register=function(t,i){this.drawFunctions[t]=i},TinyPath.prototype.isPrefix=function(t){var i=this.prefixes;return-1!=i.indexOf(t)?!0:!1},TinyPath.prototype.isDrawFunction=function(t){var i=this.drawFunctions;for(var n in i)if(t==n)return!0;return!1},TinyPath.prototype.returnImageSplit=function(){for(var t=this.arr,i=(this.drawFunctions,[]),n=[],r=0;r<t.length;r++){var s,e=t[r];2==e.length&&"string"==typeof e&&(s=e.substring(0,1),this.isPrefix(s)&&i.push(r))}for(var h=0;h<i.length;h++)n.push(t.slice(i[h],i[h+1]));return n},TinyPath.prototype.callDrawFunction=function(t){var i=t[0],n=t.slice(1,t.length);if(this.isDrawFunction(i)){var r=this.drawFunctions[i];r.draw(n)}},TinyPath.prototype.renderScene=function(t){for(var i=t,n=0;n<i.length;n++){var r=i[n];this.callDrawFunction(r)}},TinyPath.prototype.drawPath={init:function(t){t.register(":p",this),this.ctx=t.canvas},draw:function(t){var i,n,r=!0;this.ctx.beginPath();for(var s=t.length-1;s>=0;s--)r?n=t[s]:i=t[s],r||(s>t.length-3&&s<t.length-1?this.ctx.moveTo(i,n):this.ctx.lineTo(i,n)),r=!r;this.ctx.stroke(),this.ctx.fill()}},TinyPath.prototype.drawSquare={init:function(t){t.register(":s",this),this.ctx=t.canvas},draw:function(t){var i=t[0],n=t[1],r=t[2],s=t[3];this.ctx.beginPath(),this.ctx.rect(i,n,r,s),this.ctx.stroke(),this.ctx.fill()}},TinyPath.prototype.drawCircle={init:function(t){t.register(":c",this),this.ctx=t.canvas},draw:function(t){var i=t[0],n=t[1],r=t[2];this.ctx.beginPath(),this.ctx.arc(i,n,r,0,2*Math.PI),this.ctx.stroke(),this.ctx.fill()}},TinyPath.prototype.drawEclipse={init:function(t){t.register(":e",this),this.ctx=t.canvas},draw:function(t){var i=t[0],n=t[1],r=t[2],s=t[3],e=.5522848,h=r/2*e,a=s/2*e,o=i+r,c=n+s,u=i+r/2,f=n+s/2;this.ctx.beginPath(),this.ctx.moveTo(i,f),this.ctx.bezierCurveTo(i,f-a,u-h,n,u,n),this.ctx.bezierCurveTo(u+h,n,o,f-a,o,f),this.ctx.bezierCurveTo(o,f+a,u+h,c,u,c),this.ctx.bezierCurveTo(u-h,c,i,f+a,i,f),this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill()}};